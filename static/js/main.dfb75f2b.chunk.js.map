{"version":3,"sources":["images/ShareToBuy.png","images/Add.png","images/ShareToBuy-white.png","images/category-white.png","images/logout-white.png","images/list-white.png","images/group-white.png","model/user.js","pages/LoginPage.js","model/Category.js","model/ShoppingGroup.js","components/SelectActiveGroupModal.js","components/CreateNewGroupModal.js","components/ShoppingItemComponent.js","components/CategoryListComponents.js","model/ShoppingItem.js","model/ShoppingList.js","components/BaseListComponents.js","components/CategoryNewModal.js","pages/ShoppingPage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","User","parseModel","this","id","email","get","name","phone","isManager","pwd","Parse","logIn","parseUser","user","newUserMail","Object","extend","query","Query","equalTo","find","result","LoginPage","props","state","showInvalidLoginError","redirectToNextPage","handleInputChange","bind","login","event","target","value","type","checked","setState","handleLogin","then","catch","error","console","to","errorAlert","Alert","variant","Container","className","src","imageMainIcon","alt","Form","Group","controlId","Label","Control","placeholder","onChange","Button","block","onClick","Component","Category","imgFile","newCategoryName","getCategory","theCatrgoryObject","ParseCategory","NewCategoryObject","set","parseFile","File","save","newCategory","categoryName","length","ShoppingGroup","lstUsers","categories","groupName","NewCategory","ParseShoppingList","NewShoppingListObject","relation","newShoppingList","ParseShoppingGroup","currentShoppingGroup","add","queryGroup","shoppingLists","newGroupName","users","myNewShoppingGroup","response","theGroupName","first","currentUser","current","groupListResults","lstItems","forEach","item","push","activeGroup","lstCategiriesItems","map","SelectActiveGroupModal","CancelSelection","handleClose","errorMessage","log","HandleGroupSelection","selectedGroupName","selectedGroup","acceptGroupSelection","GetGroupByName","createNewGroup","isShowCreateNewGroup","HandleCreateNewGroup","lstGroups","GetGroupList","selectedItem","handleGroupSelection","code","message","selected","show","lstGroupsOption","index","key","Modal","onHide","Header","Title","Body","as","Footer","CreateNewGroupModal","CreateNewGroup","NewGroup","AddUser","findUserbyEmail","undefined","concat","theUsers","join","rows","ShoppingItemComponent","enterEditingItem","newCount","count","fileImg","file","URL","createObjectURL","HandleClosePopup","refs","overlay","handleHide","HandlePropertiesItem","showUpdateProperties","handleCountChange","valueAsNumber","handleFileChange","newFileImg","files","HandleDeleteItem","isCompleted","wasChanged","HandleMouseLeave","showChangeItemIcon","handleMouseEnter","HandleShowImage","listItem","showImagetooltip","HandleHideImage","HandleOkPopup","UpdateShoppingItemCount","UpdateShoppingItemImage","img","completedClass","itemText","tooltipImage","Popover","placement","Content","_url","popover","Row","Col","min","Image","fluid","deleteButtonClass","onMouseOver","onMouseLeave","onMouseEnter","tooltip","OverlayTrigger","trigger","onEnter","rootClose","ref","imageAddSource","CategoryListComponents","handleSelect","selectedTab","setActiveShoppingList","categoryArray","itemsLists","element","Tab","eventKey","title","Tabs","activeKey","onSelect","ShoppingItem","shoppingItemId","ShoppingItemParse","object","newfile","product","newShoppingItem","newShoppingItemObject","ProductItem","newProductItemObject","newObject","ParseShoppingItem","ShoppingItemList","shoppingItem","fetch","productName","productImageSrc","activeShoppingList","theShoppingItem","ShoppingList","itemsRelation","queryItems","shoppingItems","BaseListComponents","newText","newItemText","handleKeyDownEvent","HandleNewItem","addShoppingItem","changeItemCount","CompletedTaskHandler","shoppingItemsArray","activeCategory","getShoppingItemsParams","CreateNewShoppingListinGroup","ClearCategoryDialog","handleCategoryClose","addShoppingItemToList","newItem","GetShoppingListByCategoryAndGroup","theShoppingList","GetShoppingItemsByList","OnCompletedTask","isDisablesInput","ListGroup","InputGroup","size","FormControl","aria-label","aria-describedby","onKeyDown","disabled","Append","CategoryNewModal","createNewCategory","addCategoryToGroup","ShoppingPage","logout","handleLogout","redirectToLogin","isToSelection","showSelectActiveGroup","showCreateActiveGroup","isNewCategory","showCategoryNew","readCategoryListbyGroup","HandleCategoryOpen","group","setGroup","handleDeleteList","window","alert","activeUser","logoutLink","Nav","Link","Figure","imageLogout","Caption","activeGroupName","Navbar","expand","Brand","imageList","NavDropdown","Item","href","imageCategory","App","logOut","exact","path","getGroup","React","Boolean","location","hostname","match","serverURL","initialize","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.dfb75f2b.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuNv1OCegAAABVSURBVDhP5ZIxEgAQDATzAl/maX52ggpbSEuxKdZNCheTdGA5FUdAObK7GPKzBV0C1aEF3a9ZHxS8B2UElBFQRkAZwcf6q5P7FvZeR7fzkRa8d8qyBtqT7fkTzJl6AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAolJREFUeF7lkFFuAyEMBXv/S6dyJEevZgAb2DTRjjQfGRtY5efxeNxajHcS453EeCcxbtiDdqtmobNdMRatQneMXIHuQTEWXIXuInehO/+IMekudKd6Crr7JcaEp6C7zdPQG08xJjzFlXcr9M5TjBNPc/X9TnznKcaJp7nybkXfeYlx4BVcfb+j77zEOLDHbD4je//OG4be87QJEyOjWYXRHSfud/yul02YqPR6j9H+rPfmkdmuzp82YaJC84oKNUP3V4w0O02YqFDXpjrUDGrGaDfqUFN0Xv4DTCf+NnSP5gb1lV010uuGnnvLH2A62eZQ133Voabo/MgfsKpBTYnzqpFmpwkJHZpVNKgpcV410uw0IaFDs6xOrztxXpFo9pqQ1KFZRqPXI7SXkWj2mlDQoJ7R6PUI7WUkmr0mFDSoEXFHf6s9rth52oSiBjWFZtrUHqO90SwSd4/8AQbNog7N3BG0H53RnIkhC53RFnVopmagc2aG5lwMWVbOxTPRd9C824SJymzu0N6KGejcUIwTHZp9nRgnKjT/KjFOVGj+VWJMqND8a8SY8FOgbyuJMeEnQd+XFmNSpTJzHZqZSm8We1mMSZXRnGamQzPTqc5KYiz439A3lcRY8D+h7ymLsaiS6XE+mhmZvizGokpvFvvqzIl9WYxFI9R1P85HM4O6ti0xLvhu6BuWxLhghJox2u+difjuETEu6ry7b4lxUYWasdv99zExLvoO6N0tMW6o0PzjxLihQvOPE+OmDs0+ToybKjT/KDFu+g7o3SUxHjLSa6v7R8R4SCfbRzMn9m0xHtLJ9t5M0X5EjAcdcWJ/W4yHjdBONEI7R8R4JzHeSYx3EuOdxHgfHz+/A9c9nq3snO4AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuNv1OCegAAAHoSURBVHhe5c5BbsNADATB/P/TznUgFE3JWosGtoG6cDaO/l6v19Z43AmPO+FxJzzuhMcvOpv+9it4/JKr6TeW43Gxu+k3l+FxIaV3SendEjwudExvROndbTwuckxv3jmmN7fxuMAxvTnjmN7cwuMCmfYrMu238LhApv2KTPstPC6Qab8i034Ljwtk2q/ItN/C4wKZ9isy7bfwuBMeG7+cvvctHhu/nr65xGPj19M3l3hsZNonZNpLPDYy7RMy7SUeG5n2CZn2Eo+NTPuETHuJx0amfUKmvcRjI9M+IdNe4rGRaZ+QaS/x2Mi0T8i0l3hsZNonZNpLPDYy7RMy7SUeG5n2CZn2Eo+NTPuETHuJx0amfUKmvcRjI9M+IdNe4rGRaZ+QaS/x2Mi0T8i0l3hsZNonZNpLPDYy7RMy7SUeG5n2CZn2Eo+NTPuETHuJx0amfUKmvcRjI9M+IdNe4rGRaZ+QaS/x2Mi0T8i0l3hsZNonZNpLPDYy7RMy7SUeG5n2CZn2Eo+NY3rzpGN6U+LxhEz7kzLtb/F4wjG9ecIxvXmLx5My7U/ItLd4PEnp3TcovWvxeEGV3q5Qpben8HjRdPqm03j80NPpGy7j8aZvp//5MR53wuNOeNwJjzvhcSc87oTHfbz+/gHxfdbaH+NomAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuNv1OCegAAAHpSURBVHhe7dTBiuNAEATR+f+f9jKXJS2e7ZrJAnvpDYiDMlqiT/q63W5Hy/EkOZ4kx5PkeJIcT5LjSXIsfAe6x1iOhe9A9xjLsfAd6B5jORYm6lsm6mM5FibqWybqYzkWJupbJupjORYm6lsm6mM5FibqWybqYzkWJupbJupjORYm6lsm6mM5FibqWybqYzkWJupbJupjORYm6lsm6mM5FibqWybqYzkWJupbJupjORYm6lsm6mM5FibqHyfHwkT94+RYmKhv+432sRwLE/VtE/WXcixM1Le9ojNP5ViYqG/7CJ2lHAsT9Vf+lkfv57cpx8JEfepPefX+tf+VY2Gi/lOv6Mwjr+jMP/EPuKIzz7xy1+8eFkzUf2ui/swrd/3uYcFE/ade0ZlnJur/f4IcCxP1V/6WR+/ntynHwkR920foLOVYmKhve0VnnsqxMFHfNlF/KcfCRH3bb7SP5ViYqH+cHAsT9Y+TY2GivmWiPpZjYaK+ZaI+lmNhor5loj6WY2GivmWiPpZjYaK+ZaI+lmNhor5loj6WY2GivmWiPpZjYaK+ZaI+lmNhor5loj6WY2GivmWiPpZjYaK+ZaI+lmPhO9A9xnIsfAe6x1iOhe9A9xjL8SQ5niTHk+R4khxPkuNJcjzH29cfbNrI6Fgnt3sAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuNv1OCegAAAJTSURBVHhe5Y5BbgNBDMP6/0+nV8Gg5E3cjgMMAV6ogXd/Xq/X1WK8SYw3ifEmMd4kxg89AX13JMY33YD+4yMxPvQboP96S4wPdNDbv9JBbx+LsZGgd/8lQe8eibFRof2UCu2PxBis0JtTVuhNK8agQvtpFdpbMRor9Oa0FXoTxWhUaN9SoT2K0ajQvqVCexSjUaF9S4X2KEaj4voEvZlupzd1a8VoVFyfoDfT7fSmbq0YjYrrE/Rmup3e1K0Vo1GhfUuF9ihGo0L7lgrtUYxGhfYtFdqjGI2K6xP0Zrqd3tStFaNRcX2C3ky305u6tWI0Kq5P0JvpdnpTt1aMRoX2LRXaoxiNCu1bKrRHMRoV2rdUaI9iNCquT9Cb6XZ6U7dWjEbF9Ql6M91Ob+rWitGouD5Bb6bb6U3dWjEaFdq3VGiPYjQqtG+p0B7FaFRo31KhPYrRqLg+QW+m2+lN3VoxGhXXJ+jNdDu9qVsrRqPi+gS9mW6nN3VrxWhUaN9SoT2K0ajQvqVCexSjUaF9S4X2KEaj4voEvZlupzd1a8VoVFyfoDfT7fSmbq0YjYrrE/Rmup3e1K0Vo1GhfUuF9ihGo0L7lgrtUYxGhfYtFdqjGI2K6xP0Zrqd3tStFaNRcX2C3ky305u6tWI0Kq5P0JvpdnpTt1aMxgq9OW2F3kQxBhXaT6vQ3ooxWKE3p6zQm1aMjQrtp1RofyTGRoLe/ZcEvXskxgc66O1f6aC3j8X40G+A/ustMb7pBvQfH4nxQ09A3x2J8SYx3iTGm8R4kxjv8fXzC2RYV3b9or8bAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAAGHRFWHRTb2Z0d2FyZQBwYWludC5uZXQgNC4xLjb9TgnoAAABoklEQVR4XuXOQQoEIQxE0bn/pXtwESjkq7E1rZCCt/lx6Pk9z5MaxkwwZoIxE4yZYMwEYyYYM8GYCcZMMGaCMROMA73R+6th7PCMfnctjC/o6H4tjC/Z6HYtjC/p6H4ljC/p6H4ljAtsdLsSxgU6ul8H4wId3a+DcdHp0X9qwrjohtH/QhgX6WZuq3db3bswLtLN3IyNboXN27swbqBr3epubL1bWetW9y6MG5wc/Z8mjBucGv2XLoyb6Dx9dNM7tTLtLhg30Xl6fffedNpdMG6ia93q3rvpqGtzw7iRzdt7N5u3u2Dc6MvR94cwbvTV6NsuGDeqR731ftR1+nYKxs10vVbfqJVR1zYF42Y66tpa3UatTPsUjJtFj77phjFA5Oh7bhgD6Og+q4z6NIwBdHQ/BmMAHd2PwRjERrdjMAbR0f0IjEGiR98cwhgocvS9IYzBdL3Wu+n07TSMwWxRfQrGYLaoPgVjsN5m35fRb9wwfqA1elu0Rm+nYPyQjW7ERrdXMGaCMROMmWDMBGMmGDPBmAnGTDBmgjETjJlgzOP5/QF38c7i5hveWQAAAABJRU5ErkJggg==\"","import Parse from 'parse';\r\n\r\n\r\n\r\n//class user\r\nexport default class User {\r\n    constructor(parseModel) {\r\n\r\n        this.id = parseModel.id;\r\n        this.email = parseModel.get(\"email\");\r\n        this.name = parseModel.get(\"name\");\r\n        this.phone = parseModel.get(\"phone\");\r\n        this.isManager = parseModel.get(\"isManager\");\r\n\r\n    }\r\n    // login in parse\r\n    static async login(email, pwd) {\r\n\r\n    const parseUser = await Parse.User.logIn(email, pwd);\r\n    const user = new User(parseUser);\r\n    return user;\r\n\r\n    }\r\n\r\n    static async findUserbyEmail(newUserMail){\r\n\r\n        const user   = Parse.Object.extend('User');\r\n        const query = new Parse.Query(user);\r\n        query.equalTo(\"email\", newUserMail);\r\n        const result=await query.find();\r\n        return result;\r\n\r\n    }\r\n\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { Form, Button, Alert,Container } from 'react-bootstrap';\r\nimport User from '../model/user';\r\nimport './LoginPage.css';\r\nimport { Redirect } from 'react-router-dom';\r\nimport imageMainIcon from '../images/ShareToBuy.png'\r\nexport default  class LoginPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            email: \"\",\r\n            pwd: \"\",\r\n            showInvalidLoginError: false,\r\n            redirectToNextPage: false\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.login = this.login.bind(this);\r\n    }\r\n\r\n    handleInputChange(event) {\r\n        const target = event.target;\r\n        const value = target.type === 'checkbox' ? target.checked : target.value;\r\n        const name = target.name;\r\n\r\n        this.setState({\r\n            [name]: value,\r\n            showInvalidLoginError: false  // clean the error \r\n        });\r\n    \r\n    }\r\n\r\n\r\n         login() {\r\n            const { handleLogin } = this.props;\r\n            const { email, pwd } = this.state;\r\n\r\n            User.login(email, pwd).then(user => {\r\n                handleLogin(user);\r\n                this.setState({\r\n                    redirectToNextPage: true\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.error('Error while logging in user', error);\r\n                this.setState({\r\n                            showInvalidLoginError: true,\r\n                            pwd: \"\"\r\n                        });\r\n            });\r\n\r\n    }\r\n\r\n    render() {\r\n        const { email, pwd, showInvalidLoginError, redirectToNextPage } = this.state;\r\n\r\n         if (redirectToNextPage) {\r\n             return <Redirect to=\"/shopping\"/>\r\n         }\r\n        const errorAlert = showInvalidLoginError ? <Alert variant=\"danger\">Invalid email or password!</Alert> : null;\r\n\r\n        return (\r\n            <Container>\r\n            <div className=\"p-login\">\r\n                <div className=\"main\">\r\n                    <img src={imageMainIcon} alt=\"ShareToBuy\" />\r\n                    <span className=\"header-title\">   ShareToBuy</span>\r\n                    {errorAlert}\r\n                    <Form>\r\n                        <Form.Group controlId=\"formBasicEmail\">\r\n                            <Form.Label>Email address</Form.Label>\r\n                            <Form.Control name=\"email\" value={email}\r\n                                type=\"email\" placeholder=\"הכנס דואר אלקטרוני\" onChange={this.handleInputChange} />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formBasicPassword\">\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control name=\"pwd\" value={pwd}\r\n                                type=\"password\" placeholder=\"ססמא\" onChange={this.handleInputChange} />\r\n                        </Form.Group>\r\n                        <Button variant=\"info\" type=\"button\" block onClick={this.login}>\r\n                            כניסה\r\n                        </Button>\r\n                    </Form>\r\n                </div>\r\n            </div>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n","import Parse from 'parse';\r\n\r\nexport default class Category\r\n{\r\n    constructor(parseModel)\r\n    {\r\n        this.name=parseModel.get(\"categoryName\");;\r\n        this.imgFile=parseModel.get(\"categoryImageSrc\");\r\n    }\r\n\r\n\r\n    static async createNewCategory(newCategoryName,imgFile)\r\n    {\r\n        //find if there already such category- use it\r\n        const theCatrgoryObject=await Category.getCategory(newCategoryName);\r\n        if (theCatrgoryObject &&  theCatrgoryObject.className ===\"Category\")\r\n        {\r\n            return theCatrgoryObject; // already exsist, return the exsisting \r\n                                        // curently do not check the image existance\r\n        }\r\n        // create the category in the db\r\n        const ParseCategory = Parse.Object.extend('Category');\r\n        const NewCategoryObject = new ParseCategory(); \r\n        NewCategoryObject.set('categoryName', newCategoryName);\r\n        if (imgFile){\r\n            var parseFile = new Parse.File(imgFile.name, imgFile);\r\n            NewCategoryObject.set('categoryImageSrc', parseFile); \r\n        }\r\n        \r\n         const newCategory= await NewCategoryObject.save();\r\n         return newCategory;\r\n                \r\n    }\r\n\r\n    static async getCategory(categoryName)\r\n    {\r\n\r\n        const ParseCategory   = Parse.Object.extend('Category');\r\n        const query = new Parse.Query(ParseCategory);\r\n        query.equalTo(\"categoryName\", categoryName);\r\n        const result=await query.find();  // we are getting an array\r\n        if (result && result.length>0)\r\n            return result[0];\r\n        return result;\r\n\r\n    }\r\n\r\n\r\n}","\r\nimport Parse from 'parse';\r\nimport Category from '../model/Category';\r\n\r\nexport default class ShoppingGroup{\r\n\r\n    constructor(parseModel) {\r\n           \r\n        \r\n        this.lstUsers = parseModel.get(\"lstUsers\");\r\n        this.categories=parseModel.get(\"categories\");\r\n        this.groupName = parseModel.get(\"GroupName\");\r\n        this.id = parseModel.id;\r\n        \r\n        \r\n    }\r\n\r\n    // creates new group in the db\r\n    static async CreateNewGroup(newGroupName,users)\r\n    {\r\n\r\n           // db connection    ( should be handles saparately)\r\n           const ParseShoppingGroup = Parse.Object.extend('ShoppingGroup');\r\n           const myNewShoppingGroup = new ParseShoppingGroup(); \r\n           myNewShoppingGroup.set('GroupName', newGroupName);\r\n           myNewShoppingGroup.set('lstUsers', users);\r\n           const response = await myNewShoppingGroup.save();\r\n            return response;\r\n           \r\n    }\r\n\r\n    static async GetGroupByName(theGroupName)\r\n    {\r\n        const ParseShoppingGroup = Parse.Object.extend('ShoppingGroup');\r\n        const query = new Parse.Query(ParseShoppingGroup);\r\n        query.equalTo(\"GroupName\", theGroupName);\r\n        const result=await query.first();   \r\n        return result;        \r\n    }\r\n\r\n\r\n    static async GetGroupList()\r\n    {\r\n        var currentUser=Parse.User.current();\r\n        const ParseShoppingGroup = Parse.Object.extend('ShoppingGroup');\r\n        const query = new Parse.Query(ParseShoppingGroup);\r\n        query.equalTo(\"lstUsers\", currentUser.id);\r\n        const groupListResults=await query.find();         \r\n        let lstItems=[];\r\n        groupListResults.forEach(\r\n                    item=>lstItems.push(item.get(\"GroupName\"))\r\n        )\r\n        return lstItems;\r\n             \r\n    }\r\n\r\n    async CreateNewShoppingListinGroup(NewCategory)\r\n    {\r\n         // create the category in the db\r\n         const ParseShoppingList = Parse.Object.extend('ShoppingList');\r\n         const NewShoppingListObject = new ParseShoppingList(); \r\n\r\n         NewShoppingListObject.set(\"category\", NewCategory);\r\n         var relation = NewShoppingListObject.relation(\"shoppingItems\");\r\n\r\n        // This will save both myPost and myComment\r\n        const newShoppingList= await NewShoppingListObject.save();\r\n        // return newShoppingList;\r\n\r\n        const ParseShoppingGroup = Parse.Object.extend('ShoppingGroup');\r\n        const query = new  Parse.Query(ParseShoppingGroup) ; \r\n        const currentShoppingGroup=await query.get(this.id);\r\n        var relation = currentShoppingGroup.relation(\"shoppingLists\");\r\n        relation.add(newShoppingList);\r\n        const result=await currentShoppingGroup.save();\r\n        return result;\r\n\r\n    }\r\n\r\n\r\n    async GetShoppingListByCategoryAndGroup(categoryName)\r\n    {    \r\n        const theCatrgoryObject=await Category.getCategory(categoryName);\r\n\r\n        const ParseShoppingGroup = Parse.Object.extend('ShoppingGroup');\r\n        const queryGroup = new  Parse.Query(ParseShoppingGroup) ; \r\n        const currentShoppingGroup=await queryGroup.get (this.id);\r\n\r\n        var relation = currentShoppingGroup.relation(\"shoppingLists\");\r\n        var query = relation.query();\r\n        query.equalTo(\"category\", theCatrgoryObject);\r\n        const shoppingLists=await query.find();\r\n\r\n       if (shoppingLists && shoppingLists.length>0)\r\n                return shoppingLists[0];\r\n\r\n        return null;\r\n        \r\n    }\r\n\r\n   \r\n    async addCategoryToGroup(newCategory)\r\n    {\r\n        const ParseShoppingGroup = Parse.Object.extend('ShoppingGroup');\r\n        const query = new  Parse.Query(ParseShoppingGroup) ; \r\n        const currentShoppingGroup=await query.get(this.id);\r\n       \r\n        var relation = currentShoppingGroup.relation(\"categories\");\r\n        relation.add(newCategory);\r\n        const result=await currentShoppingGroup.save();\r\n\r\n\r\n        return result;\r\n\r\n    }\r\n\r\n   \r\n\r\n    static async readCategoryListbyGroup(activeGroup){\r\n        const ParseShoppingGroup = Parse.Object.extend('ShoppingGroup');\r\n        const queryGroup = new  Parse.Query(ParseShoppingGroup) ; \r\n        const currentShoppingGroup=await queryGroup.get(activeGroup.id);\r\n\r\n        var relation = currentShoppingGroup.relation(\"categories\");\r\n        var query = relation.query();\r\n        const categories=await query.find();\r\n\r\n        let lstCategiriesItems=categories.map(item=>new Category(item))\r\n\r\n        return lstCategiriesItems;\r\n        \r\n    }\r\n\r\n   \r\n}","import React, { Component } from 'react';\r\nimport { Modal, Button, Form } from 'react-bootstrap';\r\nimport './SelectActiveGroupModal.css';\r\nimport ShoppingGroup from '../model/ShoppingGroup';\r\n\r\n\r\n//SelectActiveGroupModal\r\n// used to select a group , from the groups that are found in the DB and the active user is a member\r\n// props:\r\n//    -activeUser- who is the active user\r\n//    -activeGroup- who is the current active group ( the one before this dialog was opened)\r\n//    -handleClose- the function that will be handling close this dialog\r\n//    -handleGroupSelection- the function that is responsible for the selection of the new created group \r\n//    -HandleCreateNewGroup- is called when new group creation was chosen\r\n//state: \r\n//   - isShowCreateNewGroup- if need to open the createNewGroup dialog\r\n//   - lstGroups- the list of existing groups , from the db (only name)\r\n//   - selectedGroup- the group that was selected (only name)\r\n//   - errorMessage- messages that will be shown to the user on the dialog footer\r\n\r\n\r\nexport default class SelectActiveGroupModal extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        // lst groups are only the names\r\n        // selected is also the name. \r\n        this.state = {\r\n            isShowCreateNewGroup:false,\r\n            lstGroups:[],\r\n            selectedGroup:\"\",\r\n            errorMessage:\"\"\r\n        }\r\n\r\n        this.GetGroupByName=this.GetGroupByName.bind(this);\r\n\r\n    }\r\n\r\n    async componentDidMount()\r\n    {\r\n        this.GetGroupList();\r\n\r\n    }\r\n    // on pressing on the cancel button\r\n    CancelSelection=()=>{\r\n        if (this.props.activeGroup)  // the previos group \r\n        {\r\n            this.props.handleClose();\r\n            this.setState({\r\n                errorMessage:\"\"\r\n            })    \r\n        }\r\n        else{\r\n            console.log(\" initial group was empty , you must select a group\");\r\n            this.setState({\r\n                errorMessage:\"Initial group was empty, select a group\"\r\n            })     \r\n         }\r\n    }\r\n\r\n    // set in the state the selected item\r\n    HandleGroupSelection=(event)=>{   \r\n           let selectedGroupName=event.target.value;\r\n           this.setState({\r\n                selectedGroup:selectedGroupName,\r\n                errorMessage:\"\"\r\n           })\r\n    }\r\n\r\n    // when ok, look for the group in the db, and send it to the app\r\n    acceptGroupSelection=()=>{\r\n\r\n        if (!this.state.selectedGroup)\r\n        {\r\n            console.log(\"no group was selected\");\r\n            this.setState({\r\n                errorMessage:\"no group was selected\"\r\n            })     \r\n        }\r\n        else{\r\n        this.setState({\r\n            errorMessage:\"\"\r\n        })     \r\n        this.GetGroupByName(this.state.selectedGroup);\r\n        this.props.handleClose();\r\n        }\r\n    }\r\n\r\n    //open the NewGroup Dialog\r\n    createNewGroup=()=>{\r\n        this.setState({isShowCreateNewGroup:true});\r\n        this.props.HandleCreateNewGroup();\r\n    }\r\n\r\n    // get from the db the group itself, according to the group name, and send it to app \r\n    GetGroupByName(theGroupName)\r\n    {\r\n           ShoppingGroup.GetGroupByName(theGroupName)\r\n           .then(result => {           \r\n            let selectedItem= new ShoppingGroup(result);\r\n            this.props.handleGroupSelection(selectedItem); \r\n          })\r\n          .catch(function(error){\r\n            console.log(\"Error in get group by name: \" + error.code + \" \" + error.message); \r\n            this.setState({\r\n                errorMessage:\"Error Getting Group\"\r\n            })      \r\n        });\r\n    }\r\n\r\n    // get the list of the groups that the user is member of\r\n    async GetGroupList()\r\n    {        \r\n        ShoppingGroup.GetGroupList().then\r\n        (lstItems=> {       \r\n            let selected=lstItems.length>0?lstItems[0]:\"\" ;   // set as selected the firzst item\r\n            this.setState({\r\n                    lstGroups:lstItems,\r\n                    selectedGroup:selected\r\n                });\r\n        })\r\n        .catch(error => {\r\n            console.error('Error while fetching ShoppingGroup for the current user', error);\r\n        });\r\n        \r\n    }\r\n \r\n    render() {\r\n        const { show, handleClose} = this.props;\r\n        const {lstGroups,errorMessage,selectedGroup}=this.state\r\n\r\n         let lstGroupsOption=lstGroups.map((item,index)=>\r\n         <option key={index}>{item} </option>)\r\n               \r\n        return (        \r\n            <Modal show={show} className=\"group-settings\"  onHide={handleClose}>\r\n                <Modal.Header>\r\n                    <Modal.Title>בחירת קבוצה</Modal.Title>          \r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                     <Form >\r\n                        <Form.Group >\r\n                            <Form.Label>בחר קבוצה </Form.Label>\r\n                            <Form.Control as=\"select\"  value={selectedGroup} onChange ={this.HandleGroupSelection}>\r\n                           { lstGroupsOption}\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group >\r\n                            <Form.Label> או צור קבוצה חדשה &emsp; &emsp;</Form.Label>\r\n                            <Button variant=\"info\" onClick={this.createNewGroup}>\r\n                                צור קבוצה\r\n                            </Button>\r\n                        </Form.Group>\r\n                    </Form> \r\n                    </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Form.Group>\r\n                            <Form.Label>{errorMessage}</Form.Label>\r\n                    </Form.Group>\r\n                    <Button variant=\"secondary\" onClick={this.CancelSelection}>\r\n                        בטל\r\n                    </Button>\r\n                    <Button variant=\"info\" onClick={this.acceptGroupSelection}>\r\n                        בחר\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>);\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Modal, Button, Form } from 'react-bootstrap';\r\nimport User from '../model/user';\r\nimport ShoppingGroup from '../model/ShoppingGroup';\r\n\r\n//CreateNewGroupModal\r\n// used to create new group in the DB , and select this group as active\r\n// props:\r\n//    -activeUser- who is the active user\r\n//    -activeGroup- who is the current active group ( the one before this dialog was opened)\r\n//    -handleClose- the function that will be handling close this dialog\r\n//    -handleGroupSelection- the function that is responsible for the selection of the new created group \r\n//state: \r\n//   - newUserMail,newGroupName- the new values that the user has entered\r\n//   -users- the list of users , that was selected for the new group. will be sent to db\r\n//   - errorMessage- messages that will be shown to the user on the dialog footer\r\n\r\nexport default class CreateNewGroupModal extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.lstUsers=[];\r\n\r\n        // the uers is for the textarea\r\n        this.state={\r\n            newUserMail:\"\",\r\n            newGroupName:\"\",\r\n            users:[],\r\n            errorMessage:\"\"\r\n        }\r\n        \r\n       \r\n    }\r\n    //general function to handle all input changes\r\n    handleInputChange=(event)=> {\r\n        const target = event.target;\r\n        const value = target.type === 'checkbox' ? target.checked : target.value;\r\n        const name = target.name;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    // this function checks if all mandatory fields are filled \r\n    //and creates a new group in the db\r\n    createNewGroup=()=>{\r\n        const{newGroupName,users}=this.state;\r\n        this.setState({\r\n            errorMessage:\"\"\r\n        })     \r\n        if (!newGroupName)\r\n        {\r\n            console.log ( \"in create new group:newGroupName is empty\")\r\n            this.setState({\r\n                errorMessage:\"new Group Name is empty\"\r\n            })     \r\n            return;\r\n        }\r\n        if (users.length===0)\r\n        {\r\n            console.log ( \"in create new group:there are no users defined\")\r\n            this.setState({\r\n                errorMessage:\"There are no users defined to the group\"\r\n            })     \r\n            return;\r\n        }\r\n\r\n        ShoppingGroup.CreateNewGroup(newGroupName, this.lstUsers).then(result=>{\r\n        \r\n                let NewGroup = new ShoppingGroup(result); \r\n                this.props.handleGroupSelection(NewGroup);  \r\n                this.props.handleClose();\r\n        \r\n        })\r\n      \r\n        .catch(error => {\r\n            console.error(\"error while Creating New Group\",error);\r\n            this.setState({\r\n                errorMessage:\"error while Creating New Group\"\r\n            })     \r\n        });\r\n                  \r\n    }\r\n    \r\n\r\n     \r\n    // this function adds a user to the users list\r\n    // the user should be in the db in order to add it to the group\r\n     AddUser=()=>{\r\n            const{newUserMail,users}=this.state\r\n            this.setState({\r\n                errorMessage:\"\"\r\n            })     \r\n            // find the user in the database  \r\n            // since mail is unique, only one user should be\r\n            User.findUserbyEmail(newUserMail).then(result=>{\r\n                this.setState({\r\n                    errorMessage:\"\"\r\n                })     \r\n                if (result!==undefined && result!==null && result.length>0) //should be only one user,// if does not exsist, do nothing\r\n                {\r\n                  this.lstUsers.push(result[0].id);  //enter the id of the user\r\n                  // add  the name to the textarea window\r\n                  this.setState({\r\n                      users: users.concat(newUserMail)\r\n                  })\r\n                }\r\n                else{\r\n                    this.setState({\r\n                        errorMessage:\"could not find this user\"\r\n                        })     \r\n                }\r\n            })\r\n              \r\n            .catch(error => {\r\n              console.error('Error while fetching ParseObjects', error);\r\n              this.setState({\r\n                errorMessage:\"Error in fetching the user\"\r\n                })     \r\n            });\r\n        \r\n     }\r\n\r\n    //return to select group....\r\n     CancelSelection=()=>{\r\n            this.props.handleClose(true);   // this may not work !!!\r\n    }\r\n\r\n    render() {\r\n        const { show, handleClose} = this.props;\r\n        const{newUserMail,newGroupName,users,errorMessage}=this.state\r\n      \r\n        const theUsers=users.join (\"\\n\");\r\n        \r\n        return (\r\n\r\n            <Modal show={show} className=\"group-settings\"  onHide={handleClose}>\r\n                <Modal.Header>\r\n                    <Modal.Title>יצירת קבוצה חדשה</Modal.Title>\r\n                </Modal.Header>\r\n            <Modal.Body>\r\n                \r\n                <Form.Group  >\r\n                    <Form.Label>שם קבוצה</Form.Label>\r\n                    <Form.Control type=\"text\" name=\"newGroupName\" value={newGroupName} placeholder=\"הכנס שם קבוצה\"  onChange={this.handleInputChange}/>\r\n                </Form.Group>\r\n                <Form.Group  >\r\n                    <Form.Label>הוסף משתמש</Form.Label>\r\n                    <Form.Control type=\"email\" name=\"newUserMail\" value={newUserMail} placeholder=\"הכנס דואר אלקטרוני\"  onChange={this.handleInputChange} />\r\n                </Form.Group>\r\n                <Button variant=\"info\" type=\"button\" onClick={this.AddUser}>\r\n                    הוסף משתמש\r\n                </Button >\r\n                <Form.Group >\r\n                    <Form.Label>רשימת משתמשים</Form.Label>\r\n                    <Form.Control as=\"textarea\" rows=\"3\" value={theUsers} />\r\n                </Form.Group>\r\n                \r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Form.Group>\r\n                            <Form.Label>{errorMessage}</Form.Label>\r\n                    </Form.Group>\r\n                    <Button variant=\"secondary\" onClick={this.CancelSelection}>\r\n                        בטל\r\n                    </Button>\r\n                    <Button variant=\"info\" onClick={this.createNewGroup}>\r\n                        צור\r\n                    </Button>\r\n\r\n                </Modal.Footer>\r\n            </Modal>);\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport './ShoppingItemComponent.css';\r\nimport { Container ,Popover,OverlayTrigger,Image,Form,Row,Col} from 'react-bootstrap';\r\nimport imageAddSource from '../images/Add.png'\r\n\r\nexport default class ShoppingItemComponent extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    \r\n          this.state = {\r\n            wasChanged:false,\r\n            showChangeItemIcon:false, \r\n            fileImg: {\r\n                file: undefined,\r\n                URL:undefined\r\n            },\r\n            newCount:0,\r\n            showImagetooltip:false\r\n            \r\n        };\r\n        this.HandleOkPopup=this.HandleOkPopup.bind(this);\r\n    }\r\n\r\n    componentDidMount()\r\n    {   \r\n        const {item}=this.props;\r\n        this.setState({\r\n            newCount:item.count,\r\n        })\r\n        if (item.imgFile)\r\n        {\r\n            this.setState({\r\n                fileImg:{\r\n                    file: item.imgFile,\r\n                    URL:URL.createObjectURL(item.imgFile.URL.createObjectURL)\r\n                }\r\n            })\r\n        }\r\n        \r\n    }\r\n\r\n    /******************************************** */\r\n    //Popover functions=\r\n    enterEditingItem=(event)=>{\r\n        const {item}=this.props;\r\n        this.setState({\r\n            newCount:item.count,\r\n        })\r\n        if (item.imgFile)\r\n        {\r\n            this.setState({\r\n                fileImg:{\r\n                    file: item.imgFile,\r\n                    URL:URL.createObjectURL(item.imgFile.URL.createObjectURL)\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    HandleClosePopup=(event)=>{\r\n        this.refs.overlay.handleHide();\r\n    \r\n    }\r\n   async HandleOkPopup(event)\r\n   {\r\n        const {fileImg,newCount}=this.state;\r\n        const{item}=this.props;\r\n        this.setState({\r\n            wasChanged:false,\r\n            });\r\n\r\n        if (item.count!==newCount)\r\n        {\r\n            item.UpdateShoppingItemCount(newCount).then(result=>{\r\n                    item.count=newCount;\r\n                    this.setState({\r\n                        wasChanged:true,\r\n                        });\r\n                })\r\n                .catch(error => {\r\n                    console.error(\"error while updating Shopping item\",error);\r\n                });\r\n               \r\n\r\n        }\r\n        if (item.fileImg!==fileImg.file)\r\n        {\r\n            item.UpdateShoppingItemImage(fileImg.file).then(result=>{\r\n                item.img=fileImg.file;\r\n                this.setState({\r\n                    wasChanged:true,\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                console.error(\"error while updating Shopping item\",error);\r\n                    \r\n            });\r\n           \r\n\r\n        }\r\n\r\n        this.refs.overlay.handleHide();\r\n        \r\n    }\r\n\r\n    HandlePropertiesItem=(event)=>{\r\n        if (this.state.showUpdateProperties===true)\r\n        {\r\n            return;\r\n        }\r\n    }\r\n    handleCountChange=(event)=>{\r\n        this.setState({\r\n            newCount:event.target.valueAsNumber\r\n        })\r\n\r\n    }\r\n\r\n\r\n    handleFileChange=(event)=> {\r\n        let newFileImg;\r\n        if (event.target.files[0]) {\r\n            newFileImg = {\r\n                file: event.target.files[0],\r\n                URL: URL.createObjectURL(event.target.files[0])\r\n            }\r\n        } else {\r\n            newFileImg = {\r\n                file: undefined,\r\n                URL: undefined\r\n            }\r\n        }\r\n            this.setState({fileImg: newFileImg});        \r\n        }\r\n\r\n    /******************************************** */\r\n    //component functions\r\n        HandleDeleteItem=(index)=>{\r\n            this.props.item.isCompleted=!this.props.item.isCompleted;\r\n                this.setState({\r\n                    wasChanged:true,\r\n                    });\r\n        }\r\n\r\n      \r\n        HandleMouseLeave=(event)=>{         \r\n            this.setState({\r\n                showChangeItemIcon:false,\r\n                })\r\n        }\r\n\r\n        handleMouseEnter=(event)=>{\r\n           \r\n            this.setState({\r\n                showChangeItemIcon:true,\r\n                })\r\n        }\r\n\r\n        HandleShowImage=(listItem)=>{\r\n            this.setState({\r\n                showImagetooltip:true\r\n                })\r\n        }\r\n        HandleHideImage=(listItem)=>{\r\n            this.setState({\r\n                showImagetooltip:false\r\n                })\r\n        }\r\n\r\n\r\n        render()\r\n        {\r\n            const { item } = this.props;\r\n            const {fileImg,showImagetooltip}=this.state;\r\n \r\n            let completedClass = \"\";\r\n            if (item.isCompleted) {\r\n                completedClass = \"linethrough-text\";\r\n            }\r\n            else {\r\n                completedClass = \"regular-text\";\r\n            }\r\n            let itemText=item.count + ' '+ item.name;\r\n\r\n            const tooltipImage =item.img && showImagetooltip?\r\n              <Popover placement={'bottom'}>\r\n                    <Popover.Content> \r\n                        <img src={item.img._url}></img>  \r\n                    </Popover.Content>\r\n                </Popover>\r\n                :\"\";\r\n\r\n\r\n\r\n            // for update item\r\n            const popover = \r\n            (\r\n                <Popover id=\"popover-basic\" >\r\n                  <Popover.Title as=\"h3\">{item.name} : עדכון    \r\n                        <button onClick={this.HandleClosePopup}>X</button>\r\n                  </Popover.Title>\r\n                  <Popover.Content>\r\n                        <Form.Group>\r\n                            <Row>\r\n                                <Col>\r\n                                    <Form.Label>כמות</Form.Label>\r\n                                </Col>\r\n                                <Col>\r\n                                    <Form.Control type=\"number\" placeholder={item.count} min=\"1\" onChange={this.handleCountChange} />\r\n                                </Col>\r\n                            </Row>\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Form.Label>תמונה</Form.Label>\r\n                            <Row>\r\n                                <Col>\r\n                                    <Form.Control type=\"file\" onChange={this.handleFileChange} />\r\n                                </Col>\r\n                            </Row> \r\n                            <Row>\r\n                                <Col>\r\n                                    <Image src={fileImg.URL} fluid/>\r\n                                </Col>\r\n                            </Row>\r\n\r\n                        </Form.Group>\r\n\r\n                        <button variant=\"info\" onClick={this.HandleOkPopup}>שנה</button>\r\n                        <button onClick={this.HandleClosePopup}>סגור</button>\r\n                  </Popover.Content>\r\n          \r\n                </Popover>\r\n              );\r\n\r\n            let deleteButtonClass=this.state.showChangeItemIcon===true?\"side-left\":\"hidden\"\r\n            \r\n            return (\r\n            <Container className=\"main-shopping-item\" onMouseOver={this.handleMouseEnter} onMouseLeave={this.HandleMouseLeave}  >\r\n                <p>\r\n               \r\n                <label className={completedClass} onClick={this.HandleDeleteItem.bind(this, item.id)} onMouseEnter={this.HandleShowImage.bind(this, item.id)}  onMouseLeave={this.HandleHideImage.bind(this, item.id)}  tooltip={item.id}>\r\n                    {itemText}                \r\n                </label>\r\n                {tooltipImage}\r\n                <OverlayTrigger trigger=\"click\" onEnter={this.enterEditingItem} placement=\"bottom\" overlay={popover} rootClose ref=\"overlay\">\r\n                    <button className={deleteButtonClass} onClick={this.HandlePropertiesItem} >\r\n                        <img src={imageAddSource} alt=\"Add\" />\r\n                    </button> \r\n                </OverlayTrigger>\r\n                </p>\r\n\r\n            </Container>\r\n           \r\n            );\r\n        }\r\n    \r\n}\r\n","import React, { Component } from 'react'\r\nimport {Tabs,Tab} from 'react-bootstrap';\r\nimport './CategoryListComponents.css';\r\n\r\nexport default class CategoryListComponents extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state={\r\n            categoryArray:[],\r\n            selectedTab:\"\"\r\n        }   \r\n    }\r\n    componentDidMount(){\r\n        const {categoryArray}=this.state\r\n        if (categoryArray && categoryArray.length>0)\r\n        {\r\n            this.setState({\r\n                selectedTab:categoryArray[0].name\r\n            });\r\n            this.props.setActiveShoppingList(categoryArray[0].name);\r\n        }\r\n        else\r\n        {\r\n            this.setState({\r\n                selectedTab: \"\"\r\n            }); \r\n        }\r\n\r\n    }\r\n\r\n    handleSelect= event =>{\r\n        this.setState({\r\n            selectedTab: event\r\n        });\r\n        this.props.setActiveShoppingList(event); // send the selected category to get its matchd shopping list\r\n      }\r\n\r\n\r\n    render() {\r\n        const {categoryArray}=this.props;\r\n        const {selectedTab}=this.state;\r\n        \r\n        let itemsLists=[];\r\n        \r\n        if (categoryArray && categoryArray.length>0)\r\n        {\r\n           \r\n            categoryArray.forEach((element,index) => {\r\n               \r\n                itemsLists.push(\r\n                <Tab className=\"vertical\" eventKey={element.name} title={element.name} key={index} >\r\n                </Tab>)\r\n            });\r\n\r\n        }\r\n        // else\r\n        // {\r\n        //     itemsLists.push(\r\n        //         <Tab />);\r\n        // }\r\n\r\n        return (           \r\n            <div className=\"category-list-main\">\r\n                <Tabs activeKey={selectedTab} onSelect={this.handleSelect}>\r\n                    {itemsLists}\r\n                </Tabs> \r\n            </div>\r\n         \r\n        )\r\n    }\r\n}\r\n","import Parse from 'parse';\r\nexport default class ShoppingItem\r\n{\r\n    // img is optional\r\n    // shoppingItemId is the id of the object from the db\r\n    constructor(shoppingItemId,name,img,count)\r\n    {\r\n        this.shoppingItemId=shoppingItemId;\r\n        this.name=name;\r\n        this.img=img;  // optional\r\n        this.count=count;\r\n          \r\n    }\r\n\r\n\r\n  static async  addShoppingItem(newShoppingItem)\r\n  {\r\n    const ShoppingItem=Parse.Object.extend('ShoppingItem');\r\n    const newShoppingItemObject=new ShoppingItem();\r\n\r\n    const ProductItem=Parse.Object.extend('productItem');\r\n    const newProductItemObject=new ProductItem();\r\n    newProductItemObject.set('productName',newShoppingItem.name);\r\n\r\n    var parseFile=(newShoppingItem.img)? new Parse.File(newShoppingItem.img.name,newShoppingItem.img):undefined;\r\n    if (parseFile)\r\n    {\r\n        newProductItemObject.set('productImageSrc',parseFile);\r\n    }\r\n    newShoppingItemObject.set(\"productItemPointer\",newProductItemObject);\r\n    newShoppingItemObject.set('count',newShoppingItem.count);\r\n\r\n    let newObject=await newShoppingItemObject.save();\r\n    return newObject;\r\n\r\n  }\r\n\r\n  static async readShoppingItemList()\r\n  {\r\n    const ParseShoppingItem = Parse.Object.extend('ShoppingItem');\r\n    const query = new Parse.Query(ParseShoppingItem);\r\n    const ShoppingItemList=await query.find();\r\n    return ShoppingItemList;\r\n}\r\n\r\nstatic async getShoppingItemsParams(shoppingItem)  // shopping item is parse object\r\n  {   \r\n      let count=shoppingItem.get(\"count\");\r\n      let shoppingItemId=shoppingItem.id;\r\n      let product=shoppingItem.get(\"productItemPointer\");\r\n      await product.fetch();\r\n      let productName=product.get(\"productName\");\r\n      let productImageSrc=product.get(\"productImageSrc\");\r\n      return new ShoppingItem(shoppingItemId,productName,productImageSrc,count);\r\n\r\n  }\r\n    async UpdateShoppingItemCount(newCount)\r\n    {      \r\n        const ShoppingItemParse = Parse.Object.extend('ShoppingItem');\r\n        const query = new Parse.Query(ShoppingItemParse);\r\n        const object = await query.get(this.shoppingItemId);\r\n        object.set('count', newCount);\r\n        const response = await object.save();\r\n        return response;\r\n\r\n\r\n    }\r\n\r\n    async UpdateShoppingItemImage( newfile)\r\n    {       \r\n        const ShoppingItemParse = Parse.Object.extend('ShoppingItem');\r\n        const query = new Parse.Query(ShoppingItemParse);\r\n        const object=await query.get(this.shoppingItemId);\r\n        let product=object.get(\"productItemPointer\");\r\n        var parseFile=(newfile)? new Parse.File(newfile.name,newfile):undefined;\r\n            if (parseFile)\r\n            {\r\n                product.set('productImageSrc',parseFile);\r\n            }\r\n        \r\n            const response=await  product.save();\r\n            return response;\r\n      \r\n\r\n    }\r\n\r\n\r\n   \r\n}","import Parse from 'parse';\r\nexport default class ShoppingItem\r\n{\r\n\r\n     static async addShoppingItemToList(activeShoppingList,shoppingItem) \r\n     {\r\n         // get the shopping item\r\n        const ParseShoppingItem = Parse.Object.extend('ShoppingItem');\r\n        const query = new Parse.Query(ParseShoppingItem);\r\n        const theShoppingItem=await query.get (shoppingItem.shoppingItemId);\r\n\r\n        var relation = activeShoppingList.relation(\"shoppingItems\");\r\n        relation.add(theShoppingItem);\r\n        const result=await activeShoppingList.save();\r\n\r\n        return result;\r\n\r\n     }\r\n\r\n     static async GetShoppingItemsByList(ShoppingList){\r\n\r\n        var itemsRelation = ShoppingList.relation(\"shoppingItems\");\r\n        var queryItems = itemsRelation.query();\r\n        const shoppingItems=await queryItems.find();\r\n        return shoppingItems;\r\n    \r\n}\r\n\r\n    \r\n}","import React, { Component } from 'react'\r\nimport { FormControl, InputGroup,Button,ListGroup, Container} from 'react-bootstrap';\r\nimport ShoppingItemComponent from './ShoppingItemComponent';\r\nimport './BaseListComponents.css';\r\nimport CategoryListComponents from './CategoryListComponents';\r\nimport ShoppingItem from '../model/ShoppingItem';\r\nimport ShoppingGroup from '../model/ShoppingGroup';\r\nimport ShoppingList from '../model/ShoppingList';\r\n\r\nexport default class BaseListComponents extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            newItemText: \"\",\r\n            imgFile:undefined,\r\n            changeItemCount:false,\r\n            shoppingItemsArray:[],\r\n            activeShoppingList:null,\r\n            activeCategory:\"\"\r\n           \r\n        }\r\n        this.getShoppingItemsParams=this.getShoppingItemsParams.bind(this);\r\n      this.addShoppingItem=this.addShoppingItem.bind(this);\r\n      this.setActiveShoppingList=this.setActiveShoppingList.bind(this);\r\n    }\r\n\r\n\r\n    // handle input text change\r\n    handleInputChange=(event)=> {\r\n        const newText = event.target.value\r\n        this.setState({\r\n            newItemText: newText\r\n        });\r\n    }\r\n\r\n    // handle for enter key to accept changes\r\n    handleKeyDownEvent=(event)=>{\r\n        if (event.key === 'Enter') {\r\n            this.HandleNewItem(event);\r\n        }\r\n    }\r\n\r\n     // handle New item is added to the list\r\n    HandleNewItem=(event)=>{    \r\n\r\n        const {newItemText,imgFile}=this.state;\r\n        if (!newItemText)\r\n        {\r\n            console.log(\"new shopping item text cannot be empty\");\r\n            return;\r\n        }\r\n        let initialCount=1;\r\n        let newShoppingItem=new ShoppingItem(0,newItemText,imgFile,initialCount);\r\n        // call adding the item\r\n        this.addShoppingItem(newShoppingItem);\r\n\r\n\r\n        // clean the fields\r\n        this.setState({\r\n                newItemText:\"\",\r\n                changeItemCount:true\r\n            })\r\n        \r\n    }\r\n\r\n\r\n    async addShoppingItem(newShoppingItem)\r\n    {\r\n       const {activeCategory,activeShoppingList}=this.state;\r\n       const {activeGroup} =this.props;\r\n        // if there is no shopping list , create one\r\n       if (!activeShoppingList)\r\n       {\r\n            // active category is a string, must turn it to object..s\r\n           activeGroup.CreateNewShoppingListinGroup(activeCategory)  \r\n           .then(result=>{        \r\n               this.ClearCategoryDialog();\r\n               this.props.handleCategoryClose(true);\r\n           }) \r\n           .catch(error=>{\r\n               console.error('Error while creating new shopping List: ', error);\r\n               this.setState({\r\n                       errorMessage:\"Error in connection to db\"\r\n               })                     \r\n           })\r\n\r\n       }\r\n\r\n       // create shopping item\r\n        ShoppingItem.addShoppingItem(newShoppingItem)\r\n          .then(result=>{\r\n             newShoppingItem.shoppingItemId=result.id; // update the id          \r\n            // add the item to the current shopping list\r\n            ShoppingList.addShoppingItemToList(activeShoppingList, newShoppingItem)\r\n             .then(result=>{\r\n                this.setState({\r\n                    shoppingItemsArray:this.state.shoppingItemsArray.concat(newShoppingItem)\r\n                    });              \r\n             })\r\n             .catch(error=>{\r\n                    console.error(\"error while adding New Shopping item to shopping list\",error);\r\n             })\r\n             \r\n          })\r\n          .catch(error=>{\r\n              console.error(\"error while creating New Shopping item\",error);\r\n          });\r\n    }\r\n\r\n    async getShoppingItemsParams(shoppingItem)\r\n  {   \r\n      \r\n      ShoppingItem.getShoppingItemsParams(shoppingItem)\r\n      .then(newItem=>{\r\n          this.setState({\r\n            shoppingItemsArray:this.state.shoppingItemsArray.concat(newItem)\r\n          });\r\n        })\r\n      .catch(error=>{\r\n          console.error(\"error while creating New Shopping item\",error);\r\n      });\r\n\r\n  }\r\n\r\n    //actions to do when a task is completed\r\n    CompletedTaskHandler=(count)=>{\r\n        this.setState({\r\n            changeItemCount:true\r\n        });\r\n        \r\n    }\r\n\r\n \r\n    async setActiveShoppingList(categoryName)\r\n    {   \r\n        const {activeGroup}=this.props;\r\n        // clean the list\r\n        this.setState({\r\n            shoppingItemsArray:[],\r\n            activeCategory:categoryName\r\n            });\r\n\r\n         // get the shopping list according to the active group and the selected category     \r\n         activeGroup.GetShoppingListByCategoryAndGroup(categoryName)\r\n        .then(theShoppingList=>{\r\n           // update the active shopping list\r\n           this.setState({\r\n            activeShoppingList:theShoppingList\r\n           })\r\n           // update the list itself\r\n           if (theShoppingList)\r\n           {\r\n                ShoppingList.GetShoppingItemsByList(theShoppingList).then(shoppingItems=>{\r\n                    if (shoppingItems.length>0)\r\n                    {\r\n                            shoppingItems.forEach(item=>{\r\n                                this.getShoppingItemsParams(item);\r\n                            });\r\n                        }  \r\n                })\r\n            }\r\n         })\r\n        \r\n         .catch(error=>{\r\n             console.error(\"error while trying to get a shopping list\",error);\r\n         });\r\n\r\n    }\r\n\r\n   \r\n    render() {\r\n        const {newItemText,shoppingItemsArray,activeCategory}=this.state;\r\n        const {categoryArray}=this.props;\r\n        \r\n        //list\r\n        let itemsLists=[];\r\n        shoppingItemsArray.forEach((element,index) => {\r\n            itemsLists.push(<ShoppingItemComponent item={element} key={index} OnCompletedTask={this.CompletedTaskHandler} ></ShoppingItemComponent>)\r\n         }  );\r\n\r\n        const isDisablesInput=activeCategory && activeCategory!==\"\"?false:true\r\n          \r\n  \r\n        return (\r\n          \r\n            <Container>  \r\n                <CategoryListComponents categoryArray={categoryArray} setActiveShoppingList={this.setActiveShoppingList}>\r\n                </CategoryListComponents>\r\n                <div className=\"main-base-list\">\r\n                <ListGroup>\r\n                    {itemsLists}\r\n                </ListGroup>\r\n              \r\n                 <InputGroup className=\"mb-3\" size=\"lg\" >\r\n                    <FormControl className=\"input\"\r\n                        placeholder=\"הוסף פריט\"\r\n                        aria-label=\"הוסף פריט\"\r\n                        aria-describedby=\"basic-addon2\"\r\n                        value={newItemText} \r\n                         onChange={this.handleInputChange}\r\n                         onKeyDown={this.handleKeyDownEvent}\r\n                         disabled={isDisablesInput }\r\n                    />\r\n                    <InputGroup.Append>\r\n                        <Button variant=\"info\"  onClick={this.HandleNewItem} disabled={isDisablesInput }>הוסף</Button>\r\n                       \r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n                </div>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Modal, Button, Form,Row,Col } from 'react-bootstrap';\r\nimport Category from '../model/Category';\r\nimport ShoppingGroup from '../model/ShoppingGroup';\r\nimport ShoppingList from '../model/ShoppingList';\r\n\r\n\r\nexport default class CategoryNewModal extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state={\r\n            name:\"\",\r\n            imgFile:undefined,\r\n            errorMessage:\"\"\r\n        }  \r\n    }\r\n    //general function to handle all input changes\r\n    handleInputChange=(event)=> {\r\n        const target = event.target;\r\n        const value = target.type === 'checkbox' ? target.checked : target.value;\r\n        const name = target.name;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    // this function checks if all mandatory fields are filled \r\n    //and creates a new group in the db\r\n    createNewCategory=()=>{\r\n        const{name,imgFile}=this.state;\r\n        const {activeGroup}=this.props;\r\n        this.setState({\r\n            errorMessage:\"\"\r\n        })     \r\n        if (!name)\r\n        {\r\n            console.log ( \"in create new category:category name is empty\")\r\n            this.setState({\r\n                errorMessage:\"new Category Name is empty\"\r\n            })     \r\n            return;\r\n        }       \r\n        // create the category in the db and add the new category to the current group\r\n        // add a new shopping List to this category and add this shopping List to this group      \r\n         Category.createNewCategory(name,imgFile)\r\n            .then(newCategory => {            \r\n                // add the category to the corrent group\r\n                activeGroup.addCategoryToGroup(newCategory)\r\n                .then(result=>{\r\n                        this.props.activeGroup.CreateNewShoppingListinGroup(newCategory)\r\n                         .then(result=>{\r\n                            // set this category as selected, and show the content in the tab\r\n                            // close the dialog\r\n                            this.ClearCategoryDialog();\r\n                            this.props.handleCategoryClose(true);\r\n                         })\r\n                        .catch(error=>{\r\n                            console.error('Error while creating new shopping List: ', error);\r\n                            this.setState({\r\n                                    errorMessage:\"Error in connection to db\"\r\n                            })                                       \r\n                        })\r\n                    })\r\n                   \r\n                .catch(error=>{\r\n                        console.error('Error while creating connection category to group: ', error);\r\n                        this.setState({\r\n                                errorMessage:\"Error in connection to db\"\r\n                        })                   \r\n                    })\r\n\r\n            })\r\n            .catch(error => {\r\n                console.error('Error while creating new category: ', error);\r\n                this.setState({\r\n                        errorMessage:\"Error in connection to db\"\r\n                })                   \r\n            });\r\n         }\r\n    \r\n\r\n     \r\n         handleFileChange=(event)=> {\r\n            if (event.target.files[0]) {\r\n                this.setState({\r\n                    imgFile:event.target.files[0]\r\n                })\r\n            } else {\r\n                this.setState({\r\n                    imgFile:undefined\r\n                })\r\n            }     \r\n        }\r\n\r\n    // clear all field  and close dialog.\r\n    // since it is modal , it is not created again when reoprn. only hide and show\r\n    ClearCategoryDialog=()=>{\r\n        this.setState({\r\n            errorMessage:\"\",\r\n            imgFile:undefined,\r\n            name:\"\"\r\n        })  \r\n    }\r\n\r\n    //return to select group....\r\n     CancelSelection=()=>{\r\n            this.ClearCategoryDialog();\r\n            this.props.handleCategoryClose(false);   \r\n    }\r\n  \r\n    render() {\r\n        const { show, handleCategoryClose} = this.props;\r\n        const{name,errorMessage}=this.state\r\n        return (\r\n\r\n            <Modal show={show} className=\"group-settings\"  onHide={handleCategoryClose}>\r\n                <Modal.Header>\r\n                    <Modal.Title>יצירת קטגוריה חדשה</Modal.Title>\r\n                </Modal.Header>\r\n            <Modal.Body>\r\n                \r\n                <Form.Group  >\r\n                    <Form.Label>שם קטגוריה</Form.Label>\r\n                    <Form.Control type=\"text\" name=\"name\" value={name} placeholder=\"הכנס שם קטגוריה\"  onChange={this.handleInputChange}/>\r\n                </Form.Group>\r\n                 \r\n                <Form.Group>\r\n                            <Form.Label>Image URL</Form.Label>\r\n                            <Row>\r\n                                <Col>\r\n                            <Form.Control type=\"file\" onChange={this.handleFileChange} />\r\n                                </Col>\r\n                            </Row>\r\n                        </Form.Group>\r\n                \r\n            </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Form.Group>\r\n                            <Form.Label>{errorMessage}</Form.Label>\r\n                    </Form.Group>\r\n                    <Button variant=\"secondary\" onClick={this.CancelSelection}>\r\n                        בטל\r\n                    </Button>\r\n                    <Button variant=\"info\" onClick={this.createNewCategory}>\r\n                        צור\r\n                    </Button>\r\n\r\n                </Modal.Footer>\r\n            </Modal>);\r\n    }\r\n}","import React,{ Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport SelectActiveGroupModal from '../components/SelectActiveGroupModal';\r\nimport CreateNewGroupModal from '../components/CreateNewGroupModal';\r\nimport {Navbar ,Nav,Figure,NavDropdown} from 'react-bootstrap';\r\nimport BaseListComponents from '../components/BaseListComponents';\r\nimport CategoryNewModal from '../components/CategoryNewModal';\r\n//import ShoppingItem from '../model/ShoppingItem';\r\nimport ShoppingGroup from '../model/ShoppingGroup';\r\nimport imageMainIcon from '../images/ShareToBuy-white.png'\r\nimport imageCategory from '../images/category-white.png'\r\nimport imageLogout from '../images/logout-white.png'\r\nimport imageGroup from '../images/group-white.png'\r\nimport imageList from '../images/list-white.png'\r\nimport './ShoppingPage.css';\r\n\r\n\r\nexport default class ShoppingPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          redirectToLogin:false,\r\n          showSelectActiveGroup: true,\r\n          showCreateActiveGroup:false,\r\n          showCategoryNew:false,\r\n          categoryArray:[],\r\n          isNewCategory:false,\r\n      }\r\n      this.readCategoryListbyGroup=this.readCategoryListbyGroup.bind(this);\r\n    }\r\n\r\n    //************************************************************* */\r\n    logout=()=> {\r\n      // This eventually calls the handleLogout method of the App component\r\n      this.props.handleLogout();\r\n\r\n      this.setState({\r\n          redirectToLogin: true\r\n      })\r\n  }\r\n\r\n\r\n//******************************************************************** */\r\n   \r\n// Category list functions\r\n  async readCategoryListbyGroup(){\r\n    ShoppingGroup.readCategoryListbyGroup(this.props.activeGroup)\r\n    .then(lstItems=>{\r\n          this.setState({\r\n              categoryArray:lstItems,\r\n          });\r\n\r\n    })\r\n    .catch(error => {\r\n      console.error('error getting the categories', error);\r\n      this.setState({\r\n        categoryArray:[],\r\n              });\r\n  });\r\n    \r\n  \r\n }\r\n    \r\n    handleClose=(isToSelection) =>{\r\n      if (isToSelection){\r\n         this.setState({\r\n          showSelectActiveGroup: true,\r\n          showCreateActiveGroup:false\r\n        })\r\n      }\r\n      else{\r\n         this.setState({\r\n          showSelectActiveGroup: false,\r\n          showCreateActiveGroup:false\r\n        })\r\n      } \r\n  }\r\n\r\n  handleCategoryClose=(isNewCategory)=>{\r\n    this.setState({\r\n        showCategoryNew:false,\r\n    })\r\n    if (isNewCategory)\r\n    {\r\n      this.readCategoryListbyGroup();\r\n\r\n    }\r\n  }\r\n\r\n  HandleCategoryOpen=()=>{\r\n    this.setState({\r\n      showCategoryNew:true\r\n     })\r\n  }\r\n  //******************************************************************** */\r\n  // Group functions\r\n    HandleCreateNewGroup=()=>\r\n    {\r\n      this.setState({\r\n        showSelectActiveGroup: false,\r\n        showCreateActiveGroup:true\r\n      })\r\n    }\r\n\r\n  handleGroupSelection=(group)=>\r\n  {\r\n    // hadle the opening of the select group section\r\n    this.props.setGroup(group);\r\n    // read the lists according to the selected group\r\n    this.readCategoryListbyGroup();\r\n  }\r\n //******************************************************************** */\r\n  handleDeleteList=()=>\r\n  {\r\n    window.alert(\"delete was chosen\");\r\n  }\r\n\r\n//******************************************************************** */\r\n    // render\r\n  render() {\r\n      const {activeUser,activeGroup}=this.props;\r\n      const {redirectToLogin,showSelectActiveGroup, showCreateActiveGroup,showCategoryNew,\r\n        categoryArray}=this.state;\r\n      \r\n        // if user exsist, than add logout button\r\n      const logoutLink = activeUser ? \r\n      <Nav.Link  onClick={this.logout} >\r\n            <Figure>\r\n            <Figure.Image\r\n              alt=\"יציאה\"\r\n              src={imageLogout}\r\n              onClick={this.logout}\r\n            />\r\n            <Figure.Caption>\r\n              יציאה\r\n            </Figure.Caption>\r\n          </Figure>\r\n       </Nav.Link>\r\n      : null;  //should not be situation whenre there is no active user\r\n      if (redirectToLogin) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n\r\n      if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n      }\r\n      let activeGroupName=\"\";\r\n      if (activeGroup!=null)\r\n      {\r\n        activeGroupName=activeGroup.groupName;\r\n      }\r\n\r\n      return (\r\n          <div>\r\n            <div className=\"main-header-nav\">\r\n            <Navbar expand=\"sm\">\r\n              <Navbar.Brand >\r\n                        <Figure>\r\n                          <Figure.Image\r\n                            alt=\"ShareToBuy\"\r\n                            src={imageMainIcon}\r\n                            onClick={this.handleClose}\r\n                          />\r\n                          <Figure.Caption>\r\n                            {activeGroupName}\r\n                          </Figure.Caption>\r\n                        </Figure>\r\n                    </Navbar.Brand>    \r\n                      <Nav.Link >\r\n                          <Figure>\r\n                              <Figure.Image\r\n                                alt=\"רשימה\"\r\n                                src={imageList}\r\n                              />\r\n                              <Figure.Caption>\r\n                                <NavDropdown title=\"רשימה\" id=\"basic-nav-dropdown\">\r\n                                <NavDropdown.Item onClick={this.handleDeleteList} >מחק  רשימה</NavDropdown.Item>\r\n                                <NavDropdown.Item href=\"#\">בחר מרשימה</NavDropdown.Item>\r\n                            </NavDropdown>\r\n                              </Figure.Caption>\r\n                            </Figure>\r\n                           \r\n                       </Nav.Link>  \r\n                       <Nav.Link  onClick={this.HandleCategoryOpen} >\r\n                          <Figure>\r\n                              <Figure.Image\r\n                                alt=\"הוסף קטגוריה\"\r\n                                src={imageCategory}\r\n                              />\r\n                              <Figure.Caption>\r\n                                קטגוריה\r\n                              </Figure.Caption>\r\n                            </Figure>\r\n                       </Nav.Link>  \r\n                      {logoutLink}          \r\n            </Navbar>\r\n            </div>\r\n             <div className=\"main-shopping-page\">           \r\n                <BaseListComponents activeGroup={activeGroup} categoryArray={categoryArray}  >\r\n                 </BaseListComponents>\r\n                <SelectActiveGroupModal show={showSelectActiveGroup} handleClose={this.handleClose} handleGroupSelection={this.handleGroupSelection} HandleCreateNewGroup= {this.HandleCreateNewGroup} activeUser={activeUser} activeGroup={activeGroup}/>\r\n                <CreateNewGroupModal show={showCreateActiveGroup} handleClose={this.handleClose} activeUser={activeUser} activeGroup={activeGroup}  handleGroupSelection={this.handleGroupSelection} />\r\n                <CategoryNewModal show={showCategoryNew} handleCategoryClose={this.handleCategoryClose} activeGroup={activeGroup}  handleGroupSelection={this.handleGroupSelection} />\r\n            </div>\r\n          </div>\r\n\r\n\r\n      );\r\n  }\r\n\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport { Switch, Route,HashRouter  } from 'react-router-dom'\r\nimport LoginPage from './pages/LoginPage';\r\nimport ShoppingPage from './pages/ShoppingPage';\r\nimport Parse from 'parse'\r\n\r\nexport default class App extends React.Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    //saving the  objects from the model\r\n    this.state = {\r\n      activeUser: Parse.User.current(),\r\n      activeGroup:null\r\n    }\r\n\r\n    this.handleLogout = this.handleLogout.bind(this);\r\n    this.handleLogin = this.handleLogin.bind(this);\r\n  }\r\n\r\n  handleLogin(user) {\r\n    this.setState({\r\n      activeUser: user,\r\n      activeGroup: null\r\n    });\r\n  }\r\n\r\n  handleLogout() {\r\n    this.setState({\r\n      activeUser: null,\r\n      activeGroup: null\r\n    })\r\n    Parse.User.logOut();\r\n  }\r\n\r\n  setGroup=(group)=>\r\n  {\r\n    this.setState({\r\n      activeGroup: group\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { activeUser,activeGroup } = this.state;\r\n      return (\r\n        // <div className=\"App\">\r\n         <HashRouter>\r\n            <Switch>\r\n                <Route exact path=\"/\">\r\n                  <LoginPage  handleLogin={this.handleLogin} getGroup={this.getGroup}></LoginPage>\r\n                </Route>\r\n                <Route exact path=\"/shopping\">\r\n                  <ShoppingPage handleLogout={this.handleLogout} activeUser={activeUser} activeGroup={activeGroup} setGroup={this.setGroup} ></ShoppingPage>\r\n                </Route>\r\n               \r\n            </Switch>\r\n          </HashRouter>\r\n          \r\n        // </div>\r\n      );\r\n  }\r\n\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport Parse from 'parse';\r\n\r\nParse.serverURL = 'https://parseapi.back4app.com'; // This is your Server URL\r\nParse.initialize(\r\n  'RxNV8NwdLxj6ybkoL0AvcbgxXqfyRthKENFqWmQj', // This is your Application ID\r\n  '7CqXhbdXpQA6nJqp5cp5Ytwe27mrO449qWGqqnBW' // This is your Javascript key\r\n);\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}